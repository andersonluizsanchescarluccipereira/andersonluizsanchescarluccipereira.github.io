<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Jogo dos Emojis</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#333333">
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #fdf6e3;
    padding: 20px;
  }
  h1 { color: #333; }
  #game-area { display: none; margin-top: 20px; }
  #emoji { font-size: 100px; margin: 20px; }
  input { font-size: 20px; padding: 10px; width: 250px; }
  button { font-size: 18px; padding: 10px 20px; margin: 10px; cursor: pointer; }
  #feedback { font-size: 50px; margin: 20px; }
  #timer, #score { font-size: 20px; margin: 10px; }
</style>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>
</head>
<body>

<h1>ü•ó Jogo dos Emojis</h1>
<p>Escolha o modo de jogo:</p>
<button onclick="startGame('easy')">Modo F√°cil</button>
<button onclick="startGame('hard')">Modo Dif√≠cil</button>

<div id="game-area">
  <div id="timer">‚è±Ô∏è Tempo: 0s</div>
  <div id="score">‚≠ê Pontos: 0</div>
  <div id="emoji"></div>
  <p id="hint"></p>
  <input type="text" id="answer" placeholder="Digite o nome">
  <br>
  <button onclick="checkAnswer()">Responder</button>
  <div id="feedback"></div>
</div>

<script>
const emojis = [
  {emoji:"ü•ë", nome:"abacate"}, {emoji:"üçç", nome:"abacaxi"}, {emoji:"üçè", nome:"ma√ß√£ verde"},
  {emoji:"üçé", nome:"ma√ßa vermelha"}, {emoji:"ü´í", nome:"azeitona"}, {emoji:"üçå", nome:"banana"},
  {emoji:"üçë", nome:"p√™ssego"}, {emoji:"ü•¶", nome:"br√≥colis"}, {emoji:"ü•ï", nome:"cenoura"},
  {emoji:"ü••", nome:"coco"}, {emoji:"ü•í", nome:"pepino"}, {emoji:"üçí", nome:"cereja"},
  {emoji:"üåΩ", nome:"milho"}, {emoji:"ü´õ", nome:"ervilha"}, {emoji:"üçì", nome:"morango"},
  {emoji:"üßÑ", nome:"alho"}, {emoji:"üçã", nome:"lim√£o"}, {emoji:"üçà", nome:"mel√£o"},
  {emoji:"üçâ", nome:"melancia"}, {emoji:"ü•≠", nome:"manga"}, {emoji:"üçä", nome:"tangerina"},
  {emoji:"üçÑ", nome:"cogumelo"}, {emoji:"üçê", nome:"pera"}, {emoji:"ü´ê", nome:"mirtilo"},
  {emoji:"üßÖ", nome:"cebola"}, {emoji:"ü•î", nome:"batata"}, {emoji:"üç†", nome:"batata doce"},
  {emoji:"üå∂Ô∏è", nome:"pimenta"}, {emoji:"ü•¨", nome:"alface"}, {emoji:"üçÜ", nome:"berinjela"},
  {emoji:"ü•ù", nome:"kiwi"}, {emoji:"üçá", nome:"uva"}, {emoji:"üçÖ", nome:"tomate"}
];

let mode = "easy", current = 0, points = 0, startTime, timerInterval;

function normalize(str) {
  return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
}

function startGame(selectedMode) {
  mode = selectedMode; current = 0; points = 0;
  document.getElementById("score").innerText = "‚≠ê Pontos: 0";
  document.getElementById("feedback").innerText = "";
  document.getElementById("game-area").style.display = "block";
  startTime = Date.now();
  timerInterval = setInterval(updateTimer, 1000);
  showEmoji();
}

function updateTimer() {
  let elapsed = Math.floor((Date.now() - startTime)/1000);
  document.getElementById("timer").innerText = "‚è±Ô∏è Tempo: " + elapsed + "s";
}

function showEmoji() {
  const item = emojis[current];
  document.getElementById("emoji").innerText = item.emoji;
  let hint = item.nome.length > 6 ? item.nome.slice(0,3) : item.nome.slice(0,2);
  document.getElementById("hint").innerText = "Dica: " + hint + "...";
  document.getElementById("answer").value = "";
  document.getElementById("answer").focus();
}

function checkAnswer() {
  const answer = normalize(document.getElementById("answer").value.trim());
  const correct = normalize(emojis[current].nome);

  if (answer === correct) {
    points++;
    document.getElementById("score").innerText = "‚≠ê Pontos: " + points;
    document.getElementById("feedback").innerText = "üòÉ";
    current++;
    if (current >= emojis.length) {
      clearInterval(timerInterval);
      let totalTime = Math.floor((Date.now()-startTime)/1000);
      document.getElementById("feedback").innerText = "üèÜ Parab√©ns! Conclu√≠do em " + totalTime + "s";
    } else {
      showEmoji();
    }
  } else {
    document.getElementById("feedback").innerText = "üò¢";
    if (mode === "hard") { current = 0; points = 0; document.getElementById("score").innerText = "‚≠ê Pontos: 0"; showEmoji(); }
  }
}
</script>
</body>
</html>
